<div class="bar bar-subheader">
  <div class="row" style="padding: 0 0px;height: 40px;line-height: 40px;">
    <div class="col col-25"
         style="padding: 0px;text-align: center;height: 40px;font-size: 16px;" ng-click="changeOrder()"
         ng-class="{'selt':orderState === 1}">
      <a>综合</a>
    </div>
    <div class="col col-25"
         style="padding: 0px;text-align: center;height: 40px;font-size: 16px;"
         ng-class="{'ion-arrow-up-c': orderBy === 'buy_count asc', 'ion-arrow-down-c': orderBy === 'buy_count desc', 'selt':orderState === 2}"
         ng-click="changeOrder('buy_count')">
      <a>销量</a>
    </div>
    <div class="col col-25"
         style="padding: 0px;text-align: center;height: 40px;font-size: 16px;"
         ng-class="{'ion-arrow-up-c': orderBy === 'price asc', 'ion-arrow-down-c': orderBy === 'price desc', 'selt':orderState === 3}"
         ng-click="changeOrder('price')">
      <a>价格</a>
    </div>
    <div class="col col-25"
         style="padding: 0px;text-align: center;height: 40px;font-size: 16px;" ng-click="showSpecModal()"
         ng-class="{'selt':orderState === 4}">
      <a>筛选</a>
    </div>
  </div>
</div>
<ion-view view-title="">
  <ion-nav-buttons side="left">
    <back-button></back-button>
  </ion-nav-buttons>
  <ion-nav-title>
    <form ng-submit="search()">
      <label class="item item-input" style="margin: 7px 0;padding: 0 0 0 6px;border-radius: 7px;border: none;">
        <i class="icon ion-search placeholder-icon"></i>
        <input type="search" placeholder="" ng-model="keywords.value" style="height: 28px;">
      </label>
      <i class="clear-search icon ion-ios-close-empty placeholder-icon" ng-click="clearSearch($event)"></i>
    </form>
  </ion-nav-title>
  <ion-nav-buttons side="right">
    <a class="button icon-left icon-btn-4 button-clear" ui-sref="tab.home"></a>
    </div>
  </ion-nav-buttons>
  <ion-content class="has-subheader">
    <div ng-show="isSearch && (!products || !products.length)">
      <div style="text-align: center; margin-top: 20px">
        抱歉,没有找到商品
      </div>
    </div>
    <div class="list-prdt-cont">
      <div class="row" style="padding: 0;" ng-repeat="product in products" ng-if="$index % 2 === 0">
        <div class="col col-50 col-center pad-5" ng-if="$index < products.length">
          <div class="new-prdt">
            <a ui-sref="product({productId:products[$index].product_id})">
              <div style="height:150px;position: relative;">
                <img class="prdt-img" ng-src="{{products[$index].image}}">
                <img ng-src="img/sellout.jpg"
                     style="position: absolute;z-index: 11;bottom: 10px;right: 10px; width: 75px; height: 75px"
                     ng-if="products[$index].store === '0'">
              </div>

              <div class="bg-color">
                <div class="prdt-descb">{{products[$index].name}}</div>
                <div class="row" style="padding: 5px 0;">
                  <span class="col pri-pri" style="padding: 0;">{{products[$index].price | currency: '￥'}}</span>
                  <img class="sell-type" ng-if="products[$index].nature !== 'normal'"
                       ng-src="img/{{products[$index].nature}}.png">
                </div>
              </div>
            </a>
          </div>
        </div>

        <div class="col col-50 col-center pad-5" ng-if="$index+1 < products.length">
          <div class="new-prdt">
            <a ui-sref="product({productId:products[$index+1].product_id})">

              <div style="height:150px;position: relative">
                <img class="prdt-img" ng-src="{{products[$index+1].image}}">
                <img ng-src="img/sellout.jpg"
                     style="position: absolute;z-index: 11;bottom: 10px;right: 10px; width: 75px; height: 75px"
                     ng-if="products[$index+1].store === '0'">
              </div>
              <!-- <div style="width: 150px;height: 150px;padding: 0;background-color: #fff;overflow: hidden;background-image: url({{products[$index+1].image}});background-size: 100% auto;background-repeat: no-repeat;background-position: 0 50%;"></div> -->

              <div class="bg-color">
                <div class="prdt-descb">{{products[$index+1].name}}</div>
                <div class="row" style="padding: 5px 0;">
                  <span class="col pri-pri" style="padding: 0;">{{products[$index+1].price | currency: '￥'}}</span>
                  <img class="sell-type" ng-if="products[$index+1].nature !== 'normal'"
                       ng-src="img/{{products[$index+1].nature}}.png">
                </div>
              </div>
            </a>
          </div>
        </div>
      </div>
    </div>
    <ion-infinite-scroll
      ng-if="hasMore"
      on-infinite="loadMore()"
      distance="5%">
    </ion-infinite-scroll>
  </ion-content>
</ion-view>
