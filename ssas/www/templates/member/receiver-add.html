<ion-view view-title="{{title}}" hide-tabs="true">
  <ion-nav-buttons side="left">
    <back-button></back-button>
  </ion-nav-buttons>
  <ion-content>
    <div class="list">
      <label class="item item-input">
        <input type="text" ng-model="addrInfo.name" placeholder="姓名">
      </label>
      <label class="item item-input item-select">
        <div class="input-label">
          身份证号：
        </div>
        <select ng-model="addrInfo.number">
          <option ng-repeat="s in cardList">{{s.number}}</option>
        </select>
      </label>
      <label class="item item-input">
        <input type="text" ng-model="addrInfo.mobile" placeholder="手机号码">
      </label>
      <label class="item item-input">
        <input type="text" ng-model="addrInfo.zipcode" placeholder="邮政编码">
      </label>
      <label class="item item-input" ng-click="addrInfo.showChoose=true">
        <input type="text" ng-model="addrInfo.area" placeholder="省市区县" readonly="readonly"
               style="background-color: #fff;"></label>
      </label>
      <label class="item item-input">
        <input type="text" ng-model="addrInfo.addr" placeholder="街道等具体地址">
      </label>
      <label class="item item-toggle" style="font-size: 14px;">
        设置为默认地址
        <label class="toggle">
          <input type="checkbox" ng-model="addrInfo.checked">

          <div class="track">
            <div class="handle"></div>
          </div>
        </label>
      </label>
    </div>

    <div class="button-bar">
      <a class="button button-full button-positive"
         style="font-size:20px;margin-bottom: 0;" ng-click="add()">
        确定
      </a>
    </div>

    <div ng-show="addrInfo.showChoose">
      <div class="button-bar">
        <div class="row">
          <div class="col col-50">
            <button class="button button-clear button-positive" style="font-size:16px;"
                    ng-click="addrInfo.showChoose=false">
              关闭
            </button>
          </div>
          <div class="col col-50" align="right">
            <button class="button button-clear button-positive" style="font-size:16px;" ng-click="saveAddress()"
                    ng-disabled="!addrInfo.address.province || !addrInfo.address.city">
              完成
            </button>
          </div>
        </div>
      </div>
      <div class="list">
        <label class="item item-input item-select">
          <div class="input-label">
            省/直辖市
          </div>
          <select ng-model="addrInfo.address.province" ng-options="s.value for s in provinces"
                  ng-change="onProvinceChanged()">
            <option value="">--请选择--</option>
          </select>
        </label>
        <label class="item item-input item-select" ng-show="addrInfo.address.province.children.length">
          <div class="input-label">
            市/区
          </div>
          <select ng-model="addrInfo.address.city" ng-options="sh.value for sh in addrInfo.address.province.children"
                  ng-change="onCityChanged()">
            <option value="">--请选择--</option>
          </select>
        </label>
        <label class="item item-input item-select" ng-show="addrInfo.address.city.children.length">
          <div class="input-label">
            县/镇
          </div>
          <select ng-model="addrInfo.address.district" ng-options="ar.value for ar in addrInfo.address.city.children">
            <option value="">--请选择--</option>
          </select>
        </label>
      </div>
    </div>
  </ion-content>
</ion-view>
